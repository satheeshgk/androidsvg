<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" 
  "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"
[ <!ENTITY Smile "
<rect x='.5' y='.5' width='29' height='39' fill='black' stroke='red'/>
<g transform='translate(0, 5)'>
<circle cx='15' cy='15' r='10' fill='yellow'/>
<circle cx='12' cy='12' r='1.5' fill='black'/>
<circle cx='17' cy='12' r='1.5' fill='black'/>
<path d='M 10 19 A 8 8 0 0 0 20 19' stroke='black' stroke-width='2'/>
</g>
">
<!ENTITY Viewport1 "<rect x='.5' y='.5' width='99' height='59'
fill='none' stroke='blue'/>">
<!ENTITY Viewport2 "<rect x='.5' y='.5' width='29' height='59'
fill='none' stroke='blue'/>">
]>

<svg width="500px" height="300px" version="1.1"
     xmlns="http://www.w3.org/2000/svg">

  <rect x="1" y="1" width="498" height="298"
        fill="none" stroke="blue"/>

    <g transform="translate(50,50)">
      &Viewport1;
      <svg preserveAspectRatio="xMidYMid slice" viewBox="0 0 30 40"
           width="100" height="60">&Smile;</svg></g>

    <g transform="translate(200,50)">
      &Viewport1;
      <svg preserveAspectRatio="xMidYMid slice" viewBox="0 0 30 40" clip="rect(10,15,5,20)"
           width="100" height="60">&Smile;</svg></g>

    <g transform="translate(350,50)">
      &Viewport1;
      <svg preserveAspectRatio="xMidYMid slice" viewBox="0 0 30 40" clip="rect(-10,15,-20,0)"
           width="100" height="60">&Smile;</svg></g>

    <g transform="translate(50,200)">
      &Viewport1;
      <svg preserveAspectRatio="xMidYMid slice" viewBox="0 0 30 40" clip="auto"
           width="100" height="60">&Smile;</svg></g>

    <g transform="translate(200,200)">
      &Viewport1;
      <svg preserveAspectRatio="xMidYMid slice" viewBox="0 0 30 40" clip="rect(auto,auto,auto,auto)"
           width="100" height="60">&Smile;</svg></g>

    <g transform="translate(350,200)">
      &Viewport1;
      <svg preserveAspectRatio="xMidYMid slice" viewBox="0 0 30 40" clip="rect(-10,15,auto,3)"
           width="100" height="60">&Smile;</svg></g>

</svg>